<!DOCTYPE html>
<html lang="en">

<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no"/>
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles.css') }}" /></head>


<body>
  <div class="col-action">
    <div class="coll1">
      <h1>Red Team</h1>
      <p id="test" ></p>
      
      <!-- red players go here -->
    </div>

    <div class="coll2">
      <h1>Green Team</h1>
      <!-- green players go here -->
    </div>
  </div>
  
  <!-- Second box -->
  <!-- Box for red players -->
  <div class="box">
  <div class="boxRed"><h3>
    <div class = "redData" id="redName1" ></div><br>
    <div class = "redData" id="redName2" ></div><br>
    <div class = "redData" id="redName3" ></div><br>
    <div class = "redData" id="redName4" ></div><br>
    <div class = "redData" id="redName5" ></div><br>
    </div>

    <!-- Box for green players -->
    <div class="boxGreen"><h3>
      <div class = "greenData" id="greenName1" ></div><br>
      <div class = "greenData" id="greenName2" ></div><br>
      <div class = "greenData" id="greenName3" ></div><br>
      <div class = "greenData" id="greenName4" ></div><br>
      <div class = "greenData" id="greenName5" ></div><br>
      </div>
      </div>

      <!-- Third Box -->
      <div class="bigBox">
      </div>
<form name="playerForm">

</form>

</body>

<script>
  //Set countdown to 30 seconds
  var countDownTime = 30;

  //Find where the countdown is supposed to be
  var count = document.getElementById('test');

  //Function for every 1 second to print the count
  var time = setInterval(function() {
    //If time is less then 0 keep at 0
    if(countDownTime < 0){
      clearTimeout(time);
    }
    //Display time and subtract 1
    else{
      count.innerHTML = countDownTime + ' seconds remaining until game starts';
      countDownTime = countDownTime - 1;
    }
  }, 1000);
  
  //When this loads wait 10 seconds for players to load to database then get the players
  setTimeout(function testFunction(){
    //Create request to get players
    request = new XMLHttpRequest();
    
    //Set path to call retrievePath in main.py
    request.open('GET', '/getplayer', true);

    //Set the dictionary retrieving to a json object
    request.responseType = 'json';

    //Send request
    request.send();

    //When it returns get the player objects
    request.onload = function(){
      let testObj = request.response;
      console.log(testObj.redplayer2ID);
    }


}, 10000);

  </script>

  </html>